.frise {
	@include x-justify-content(flex-start);
	.chrono-header {
		position: static;
		height: 7vh;
	}
	.choice-periode {
		@include x-flexbox;
		@include x-justify-content(space-between);
		@include x-align-items(center);
		background-color: $background-color-frise-choice-periode;
		// height: 10vh;
		padding: 0 3rem;
		.periode {
			@include x-flex(1 1 auto);
			color: $color-text;
			@include opacity(0.35);
			h2 {
				font-size: 0.75rem;
				text-transform: uppercase;
				margin-bottom: 0;
				sup {
					font-size: 0.5em;
				}
			}
			span {
				color: $color-frise-choice-periode-dates;
				font-size: 1rem;
			}
			&.active {
				@include opacity(1);
			}
		}
	}
	> .prev-periode,
	> .next-periode {
		height: 7vh;
		@include x-align-items(center);
		> * {
			@include x-flexbox;
		}
		.periode {
			padding: 1em;
			h2 {
				font-size: 0.875rem;
				margin: 0;
			}
			span {
				font-size: 0.875rem;
			}
		}
	}
	.timeline-container {
		width: 100%;
	}
}
.frise {
	&.formation {
		.event-page {
			.cover {
				.icon-close {
					background: $tamarind;
				}
			}
			.content {
				.return-frise {
					background-color: $tamarind;
				}
				.event-content {
					.description {
						p:first-child:first-letter {
							color: $tamarind;
						}
					}
					.link {
						color: $tamarind;
						border-color: $tamarind;
					}
				}
			}
		}
		.timeline {
			background-color: $tamarind;
			.prev-periode {
				@include background-image(linear-gradient(to left, $tamarind, #160a0e));
			}
			.next-periode {
				@include background-image(linear-gradient(to right, $tamarind, #160a0e));
			}
		}
		.timeline-scroller {
			.content {
				.yearLimit {
					background-color: $tamarind;
					&:after {
						border-color: $tamarind transparent $tamarind $tamarind;
					}
				}
				.events-serie {
					.event {
						&.important {
							figcaption:before {
								color: $tamarind;
							}
						}
						figure {
							figcaption:hover {
								border-color: $tamarind;
							}
						}
					}
				}
			}
		}
	}
	&.first-war {
		.event-page {
			.cover {
				.icon-close {
					background: $sunglo;
				}
			}
			.content {
				.return-frise {
					background-color: $sunglo;
				}
				.event-content {
					.description {
						p:first-child:first-letter {
							color: $sunglo;
						}
					}
					.link {
						color: $sunglo;
						border-color: $sunglo;
					}
				}
			}
		}
		.timeline {
			background-color: $sunglo;
			.prev-periode {
				@include background-image(linear-gradient(to left, $sunglo, #d62d2a));
			}
			.next-periode {
				@include background-image(linear-gradient(to right, $sunglo, #d62d2a));
			}
		}
		.timeline-scroller {
			.content {
				.yearLimit {
					background-color: $sunglo;
					&:after {
						border-color: $sunglo transparent $sunglo $sunglo;
					}
				}
				.events-serie {
					.event {
						&.important {
							figcaption:before {
								color: $sunglo;
							}
						}
						figure {
							figcaption:hover {
								border-color: $sunglo;
							}
						}
					}
				}
			}
		}
	}
	&.rebel {
		.event-page {
			.cover {
				.icon-close {
					background: $apricot;
				}
			}
			.content {
				.return-frise {
					background-color: $apricot;
				}
				.event-content {
					.description {
						p:first-child:first-letter {
							color: $apricot;
						}
					}
					.link {
						color: $apricot;
						border-color: $apricot;
					}
				}
			}
		}
		.timeline {
			background-color: $apricot;
			.prev-periode {
				@include background-image(linear-gradient(to left, $apricot, #db3c27));
			}
			.next-periode {
				@include background-image(linear-gradient(to right, $apricot, #db3c27));
			}
		}
		.timeline-scroller {
			.content {
				.yearLimit {
					background-color: $apricot;
					&:after {
						border-color: $apricot transparent $apricot $apricot;
					}
				}
				.events-serie {
					.event {
						&.important {
							figcaption:before {
								color: $apricot;
							}
						}
						figure {
							figcaption:hover {
								border-color: $apricot;
							}
						}
					}
				}
			}
		}
	}
	&.second-war {
		.event-page {
			.cover {
				.icon-close {
					background: $jungle_green;
				}
			}
			.content {
				.return-frise {
					background-color: $jungle_green;
				}
				.event-content {
					.description {
						p:first-child:first-letter {
							color: $jungle_green;
						}
					}
					.link {
						color: $jungle_green;
						border-color: $jungle_green;
					}
				}
			}
		}
		.timeline {
			background-color: $jungle_green;
			.prev-periode {
				@include background-image(linear-gradient(to left, $jungle_green, #148a32));
			}
			.next-periode {
				@include background-image(linear-gradient(to right, $jungle_green, #148a32));
			}
		}
		.timeline-scroller {
			.content {
				.yearLimit {
					background-color: $jungle_green;
					&:after {
						border-color: $jungle_green transparent $jungle_green $jungle_green;
					}
				}
				.events-serie {
					.event {
						&.important {
							figcaption:before {
								color: $jungle_green;
							}
						}
						figure {
							figcaption:hover {
								border-color: $jungle_green;
							}
						}
					}
				}
			}
		}
	}
	&.fourth-republic {
		.event-page {
			.cover {
				.icon-close {
					background: $genoa;
				}
			}
			.content {
				.return-frise {
					background-color: $genoa;
				}
				.event-content {
					.description {
						p:first-child:first-letter {
							color: $genoa;
						}
					}
					.link {
						color: $genoa;
						border-color: $genoa;
					}
				}
			}
		}
		.timeline {
			background-color: $genoa;
			.prev-periode {
				@include background-image(linear-gradient(to left, $genoa, #093234));
			}
			.next-periode {
				@include background-image(linear-gradient(to right, $genoa, #093234));
			}
		}
		.timeline-scroller {
			.content {
				.yearLimit {
					background-color: $genoa;
					&:after {
						border-color: $genoa transparent $genoa $genoa;
					}
				}
				.events-serie {
					.event {
						&.important {
							figcaption:before {
								color: $genoa;
							}
						}
						figure {
							figcaption:hover {
								border-color: $genoa;
							}
						}
					}
				}
			}
		}
	}
	&.fifth-republic {
		.event-page {
			.cover {
				.icon-close {
					background: $congress_blue;
				}
			}
			.content {
				.return-frise {
					background-color: $congress_blue;
				}
				.event-content {
					.description {
						p:first-child:first-letter {
							color: $congress_blue;
						}
					}
					.link {
						color: $congress_blue;
						border-color: $congress_blue;
					}
				}
			}
		}
		.timeline {
			background-color: $congress_blue;
			.prev-periode {
				@include background-image(linear-gradient(to left, $congress_blue, #00214e));
			}
			.next-periode {
				@include background-image(linear-gradient(to right, $congress_blue, #00214e));
			}
		}
		.timeline-scroller {
			.content {
				.yearLimit {
					background-color: $congress_blue;
					&:after {
						border-color: $congress_blue transparent $congress_blue $congress_blue;
					}
				}
				.events-serie {
					.event {
						&.important {
							figcaption:before {
								color: $congress_blue;
							}
						}
						figure {
							figcaption:hover {
								border-color: $congress_blue;
							}
						}
					}
				}
			}
		}
	}
	&.death {
		.event-page {
			.cover {
				.icon-close {
					background: $san_juan;
				}
			}
			.content {
				.return-frise {
					background-color: $san_juan;
				}
				.event-content {
					.description {
						p:first-child:first-letter {
							color: $san_juan;
						}
					}
					.link {
						color: $san_juan;
						border-color: $san_juan;
					}
				}
			}
		}
		.timeline {
			background-color: $san_juan;
			.prev-periode {
				@include background-image(linear-gradient(to left, $san_juan, #14192f));
			}
			.next-periode {
				@include background-image(linear-gradient(to right, $san_juan, #14192f));
			}
		}
		.timeline-scroller {
			.content {
				.yearLimit {
					background-color: $san_juan;
					&:after {
						border-color: $san_juan transparent $san_juan $san_juan;
					}
				}
				.events-serie {
					.event {
						&.important {
							figcaption:before {
								color: $san_juan;
							}
						}
						figure {
							figcaption:hover {
								border-color: $san_juan;
							}
						}
					}
				}
			}
		}
	}
}
.timeline {
	background-color: $background-color-frise-timeline;
	width: 100%;
	@include x-flexbox;
	@include x-justify-content(space-between);
	@include x-align-items(stretch);
	// height: 6vh;
	.periode {
		h2 {
			margin: 0;
		}
	}
	.prev-periode,
	.next-periode {
		@include x-flexbox;
		@include x-align-items(center);
		@include x-flex(0 0 auto);
		color: $color-text;
		span {
    			padding: 1rem;
		}
		.periode {
			padding: 0.5em;
			h2,
			span {
				font-size: 0.875rem;
				padding: 0;
			}
		}
	}
	.prev-periode {
		@include background-image(linear-gradient(to left, $background-color-frise-timeline, $background-color-gradient-frise-timeline));
		span {
			padding-right: 0;
		}
	}
	.next-periode {
		@include background-image(linear-gradient(to right, $background-color-frise-timeline, $background-color-gradient-frise-timeline));
		span {
			padding-left: 0;
		}
	}

	.reperes {
		@include x-flexbox;
		@include x-align-items(stretch);
		@include x-flex(1 1 auto);
		@include x-justify-content(center);
		min-width: 0px;
		padding-bottom: 0;
		.cursor {
			// display: none !important;
			display: block;
    			height: 24px;
    			width: 24px;
    			background-color: $background-color-frise-choice-periode;
    			position: absolute;
    			margin-left: -12px;
    			left: 0;
    			top: 100%;
    			z-index: 100;
    			&:after {
				// content: "";
				background-color: $background-color-frise-choice-periode;
				display: block;
				width: 1px;
				height: 79vh;
				margin-left: 7px;
    			}
    			&:before {
    				bottom: 100%;
				left: 50%;
				border: solid transparent;
				content: " ";
				height: 0;
				width: 0;
				position: absolute;
				pointer-events: none;
				border-color: rgba(136, 183, 213, 0);
				border-bottom-color: $background-color-frise-choice-periode;
				border-width: 12px;
				margin-left: -12px;
    			}
		}
		.event-duration {
			display: block;
			width: 3em;
			cursor: pointer;
			position: relative;
			@include transition(all 1s ease);

			&.important-event {
				width: 5em;
			}
			&:hover {
				background-color: $color-frise-reperes;
				@include opacity(0.35);
			}
			&:after {
				content: "";
    				position: absolute;
    				bottom: 0;
    				width: 100%;
    				left: -2px;
    				height: 25%;
     				border-left: 2px solid $color-frise-reperes;
				border-right: 2px solid $color-frise-reperes;
			}
			.important {
				font-size: 0.8rem;
				font-family: "sofia-pro", serif;
    				display: block;
    				width: 85%;
    				margin: 0 auto;
    				&:before {
    					font-family: "icomoon";
    					font-size: 1.4rem;
					display: block;
    				} 
			}
		}
		.event-duration + .event-duration:after {
			border-left: 0;
		}
		.begin-year {
			border-left: 2px dotted $color-frise-reperes;
			// border-right: 0;
		}
		.begin-year + .event-duration {
			// border-left: 2px solid $color-frise-reperes;
		}
		.end-year {
			border-right: 2px dotted $color-frise-reperes;
			border-left: 0;
			&:after {
				left: 0;
			}
		}
		.begin-year.end-year {
			// border-left: 2px dotted $color-frise-reperes;
			border-right: 2px dotted $color-frise-reperes;
		}
		.begin-year.end-year + .begin-year.end-year {
			border-left: 0;
		}
	}
}

.timeline-scroller {
	height: 79vh;
	width: 100%;
	background-color: #fff;
	overflow: hidden;
	position: relative;
	.cover {
		width: 100%;
		@include opacity(0.05);
		position: fixed;
		left: 0;
	}
	.content {
		height: 77vh;
    		position: absolute;
    		overflow: hidden;
    		left: 0;
    		top: 0;
    		margin: auto;
    		// width: auto;
    		// white-space: nowrap;
    		z-index: 1;
		@include x-flexbox;
		@include x-align-items(center);
		// @include x-flex(0 0 auto);
		cursor: move;
		> div {
			// @include x-flexbox;
			// float: left;
			@include x-flex(0 0 auto);
			height: 100%;
		}
		.yearLimit {
			width: 90px;
			font-size: 1.5rem;
    			height: 54px;
    			text-align: left;
    			line-height: 50px;
    			background-color: $jungle_green;
    			color: $color-text;
    			position: absolute;
    			top: -5em;
    			margin-left: 40px;
    			left: inherit;
    			&:after {
    				border-color: $jungle_green;
    				border-right-color: transparent;
    			}
		}
    		.events-serie {
    			@include x-flexbox;
			height: 100%;
			margin-top: 6em;
			padding-bottom: 6em;
			.event {
				// white-space: normal;
				// width: 33.33%;
				&:nth-child(3n+1) {
					@include x-align-self(flex-start);
				}
				&:nth-child(3n+2) {
					@include x-align-self(center);
				}
				&:nth-child(3n+3) {
					@include x-align-self(flex-end);
				}
				figure {
					img,
					figcaption {
						display: inline-block;
    						vertical-align: bottom;
					}
					img {
						width: 150px;
						height: 150px;
					}
					figcaption {
						padding: 1.5em;
						max-width: 370px;
						background-color: #fff;
						margin-left: -1em;
						border: 2px solid #fff;
						&:hover {
							border: 2px solid $jungle_green;
						}
						h3 {
							margin-top: 0;
							text-transform: uppercase;
							font-family: "museo-slab", serif;
							color: #494b4d;
							font-size: 0.875rem
						}
						p {
							margin-bottom: 0;
							color: #6d7073;
							font-size: 0.875rem
						}
					}
				}
				&.important {
					figcaption {
						position: relative;
						&:before {
							content: "\e621";
							font-family: "icomoon";
							font-size: 1.2em;
    							position: absolute;
    							top: 0;
    							left: 0.5em;
    							color: $jungle_green;
						}
					}
				}
			}
    		}
	}
}

@media screen and (max-width: 768px) {
	.frise {
		&.formation {
			.timeline-container {
				.timeline {
					.prev-periode {
						@include background-image(linear-gradient(to top, $tamarind, #160a0e));
					}
					.next-periode {
						@include background-image(linear-gradient(to bottom, $tamarind, #160a0e));
					}
				}
			}
		}
		&.first-war {
			.timeline-container {
				.timeline {
					.prev-periode {
						@include background-image(linear-gradient(to top, $sunglo, #d62d2a));
					}
					.next-periode {
						@include background-image(linear-gradient(to bottom, $sunglo, #d62d2a));
					}
				}
			}
		}
		&.rebel {
			.timeline-container {
				.timeline {
					.prev-periode {
						@include background-image(linear-gradient(to top, $apricot, #db3c27));
					}
					.next-periode {
						@include background-image(linear-gradient(to bottom, $apricot, #db3c27));
					}
				}
			}
		}
		&.second-war {
			.timeline-container {
				.timeline {
					.prev-periode {
						@include background-image(linear-gradient(to top, $jungle_green, #148a32));
					}
					.next-periode {
						@include background-image(linear-gradient(to bottom, $jungle_green, #148a32));
					}
				}
			}
		}
		&.fourth-republic {
			.timeline-container {
				.timeline {
					.prev-periode {
						@include background-image(linear-gradient(to top, $genoa, #093234));
					}
					.next-periode {
						@include background-image(linear-gradient(to bottom, $genoa, #093234));
					}
				}
			}
		}
		&.fifth-republic {
			.timeline-container {
				.timeline {
					.prev-periode {
						@include background-image(linear-gradient(to top, $congress_blue, #00214e));
					}
					.next-periode {
						@include background-image(linear-gradient(to bottom, $congress_blue, #00214e));
					}
				}
			}
		}
		&.death {
			.timeline-container {
				.timeline {
					.prev-periode {
						@include background-image(linear-gradient(to top, $san_juan, #14192f));
					}
					.next-periode {
						@include background-image(linear-gradient(to bottom, $san_juan, #14192f));
					}
				}
			}
		}
	}
	.frise {
		&.formation {
			.timeline-container {
				height: 73vh;
			}
		}
		&.death {
			.timeline-container {
				height: 73vh;
			}
		}
		.chrono-header {
			.header {
				position: static;
			}
		}
		> .prev-periode,
		> .next-periode {
			height: 10vh;
		}
		.choice-periode {
			height: 10vh;
			.periode {
				text-align: center;
				height: 100%;
				h2 {
					margin-top: 0;
				}
				a {
					height: 100%;
					@include x-flexbox;
					@include x-flex-direction(column);
					@include x-align-items(center);
					@include x-justify-content(center);
				}
			}
		}
		.timeline-container {
			@include x-flexbox;
			height: 63vh;
			.timeline {
				height: 100%;
				width: 15vw;
				@include x-order(2);
				@include x-flex-direction(column);
				@include x-align-items(initial);
				.periode {
					text-align: center;
				}
				.prev-periode {
					// height: 100%;
					min-height: 2em;
					@include background-image(linear-gradient(to top, $background-color-frise-timeline, $background-color-gradient-frise-timeline));
					@include x-align-items(flex-start);
					@include x-justify-content(center);
					// @include x-flex-direction(column);
					@include x-flex(0 1 auto);
				}
				.next-periode {
					// height: 100%;
					min-height: 2em;
					@include background-image(linear-gradient(to bottom, $background-color-frise-timeline, $background-color-gradient-frise-timeline));
					@include x-align-items(center);
					@include x-justify-content(center);
					// @include x-flex-direction(column);
					@include x-flex(0 1 auto);
				}
				.reperes {
					@include x-align-items(flex-start);
					@include x-justify-content(center);
					@include x-flex-direction(column);
					@include x-flex(0 1 auto);
					height: 80%;
					// overflow: hidden;
					.cursor {
						@include transform(rotate(90deg));
						margin-left: 0;
    						left: -24px;
    						top: -12px;
					}
					.event-duration {
						width: 100%;
						height: 4rem;
						z-index: 1;
						.important {
							width: 100%;
							position: absolute;
							top: 50%;
							left: 0;
							@include transform(translate(0, -50%));
						}
						&.begin-year {
							border: 0;
							border-top: 2px dotted $color-frise-reperes;
							&:after {
								border: 0;
								border-top: 2px solid $color-frise-reperes;
								border-bottom: 2px solid $color-frise-reperes;
							}
						}
						&.end-year {
							border: 0;
							border-bottom: 2px dotted $color-frise-reperes;
							&:after {
								top: 0;
								border: 0;
								border-bottom: 2px solid $color-frise-reperes;
							}
						}
						&:after {
							border: 0;
							border-top: 2px solid $color-frise-reperes;
							border-bottom: 2px solid $color-frise-reperes;
							height: 100%;
							left: 0;
							top: -2px;
							width: 2rem;
						}
						& + .event-duration:after {
							border-top: 0;
						}
						&.important-event {
							height: 8em;
						}

					}
				}
			}
			.timeline-scroller {
				height: 100%;
				width: 85vw;
				@include x-order(1);
				.cover {
					height: 100%;
					width: auto;
				}
				.content {
					height: 100%;
					width: 100%;
					// overflow: hidden;
					@include x-flex-direction(column);
					> div {
						width: 100%;
						// @include x-flex(1 1 auto);
						height: initial;
						&:last-child {
							.events-serie {
								.event {
									margin-bottom: 0em;
								}
							}
						}
						.events-serie {
							margin-top: 0;
							@include x-flex-direction(column);
						}
					}
					.yearLimit {
						position: relative;
    						top: 0;
    						left: 0;
    						display: block;
    						text-align: center;
    						margin: 1em 0em 1em -1em;
    						padding: 0em;
    						z-index: 1;
					}
					.events-serie {
						// display: block;
						// width: auto;
						padding: 0;
						.event {
							// height: 170px;
							padding-left: 0;
							margin: 0;
							padding: 1em;
							width: 100%;
							&:first-child {
								// margin-top: 6em;
							}
							&:last-child {
								margin-bottom: 0;
							}
							figure {
								margin: 0;
								figcaption {
									margin: 0;
									padding: 1.5em;
									max-width: 100%;
									width: 100%;
									h3 {
										margin-bottom: 0.5em;
									}
									p {
										margin-top: 0.5em;
									}
									&:before {
										// left: 0;
									} 
								}
							}
						}
					}
				}
			}
		}
	}
}
